<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>发布订阅模式</title>
  <style>
  </style>
</head>
<body>
  <button id="btn">点我</button>
  <div id="show1" data-count="1">0</div>
  <div id="show2" data-count="2">0</div>
  <script src="observer.js"></script>
  <script>
    'use strict';
    var data = 0
    observer.listen('show1', function (data) {
      show1.innerHTML = data
    })
    observer.listen('show2', function (data) {
      show2.innerHTML = data
    })
    btn.onclick = function () {
      data += 2
      observer.trigger('show1', data)
      observer.trigger('show2', data * 2)
    }
  </script>
</body>
</html>
